/* --- 1. ПРЕМИУМ ФУНДАМЕНТ --- */
@font-face {
  font-family: "Gramatika";
  src: local("Gramatika"), local("Inter");
}

:root {
  --bg-cream: #f4f2ee;
  --blue-deep: #00388d;
  --blue-bright: #0045a6;
  --accent: #fa2d1a;
  --folder-front: linear-gradient(180deg, #5ca0f2 0%, #007aff 100%);
  --folder-back: #2b5e96;
  --white: #ffffff;
  --black: #050505;
  --light-blue: #e0e6ff;
  --border: rgba(0, 69, 166, 0.15);
  /* Fluid Design: скругления адаптируются к экрану */
  --radius: clamp(16px, 3vw, 32px);
  /* Apple-style buttery smooth easing */
  --ease-smooth: cubic-bezier(0.23, 1, 0.32, 1);
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: "Gramatika", "Inter", sans-serif;
  margin: 0;
  padding: 0;
  background-color: var(--bg-cream);
  color: var(--blue-bright);
  overflow-x: hidden;
  user-select: none;
  -webkit-font-smoothing: antialiased;
}

/* Защита для тега main */
main {
  display: block;
  width: 100%;
}

/* --- 2. TEXTURE (NOISE) --- */
#noise-canvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.15;
  mix-blend-mode: multiply;
}

/* --- 3. NAVBAR (GLASS) --- */
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  /* Fluid Design: отступы в навбаре */
  padding: clamp(15px, 2vw, 20px) clamp(20px, 4vw, 40px);
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 10000;
  background: rgba(244, 242, 238, 0.571);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border-bottom: 1px solid rgba(0, 69, 166, 0.05);
  animation: fadeInDown 1.4s var(--ease-smooth) forwards;
}

.nav-logo {
  font-weight: 900;
  color: var(--blue-bright);
  /* Fluid Design: размер логотипа */
  font-size: clamp(1.4em, 2vw, 1.8em);
  text-decoration: none;
  letter-spacing: -0.05em;
}
.nav-buttons {
  display: flex;
  gap: clamp(10px, 2vw, 20px);
  align-items: center;
}

.nav-text-btn {
  text-decoration: none;
  font-weight: 700;
  font-size: clamp(0.9rem, 1.5vw, 1rem);
  color: var(--blue-bright);
  opacity: 0.7;
  transition: opacity 0.4s var(--ease-smooth);
}
.nav-text-btn:hover {
  opacity: 1;
}

.nav-accent-btn {
  text-decoration: none;
  font-weight: 700;
  /* Fluid Design: внутренние отступы кнопки */
  padding: clamp(10px, 1.5vw, 12px) clamp(20px, 3vw, 32px);
  border-radius: 100px;
  font-size: clamp(0.85em, 1.5vw, 0.9em);
  transition:
    transform 0.4s var(--ease-smooth),
    box-shadow 0.4s var(--ease-smooth);
  background-color: var(--blue-bright);
  color: white;
  box-shadow: 0 4px 15px rgba(0, 69, 166, 0.2);
}
.nav-accent-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0, 69, 166, 0.35);
}

/* --- 4. HERO SECTION --- */
.hero-wrapper {
  height: 100vh;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Fluid Design: резиновый отступ сверху */
  padding: clamp(80px, 10vh, 100px) clamp(15px, 2vw, 20px) 0px clamp(15px, 2vw, 20px);
  box-sizing: border-box;
  position: relative;
  z-index: 10;
}

.card-shadow-container {
  width: 100%;
  max-width: 1440px;
  /* Fluid Design: безопасная высота контейнера */
  height: clamp(500px, 82vh, 900px);
  border-radius: var(--radius);
  box-shadow:
    0 60px 120px -20px rgba(0, 20, 60, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  position: relative;
  animation: scaleIn 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  z-index: 1;
}

.hero-card {
  width: 100%;
  height: 100%;
  border-radius: var(--radius);
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background-color: var(--blue-bright);
  background-image:
    radial-gradient(
      circle at center,
      rgba(255, 255, 255, 0.1) 0%,
      rgba(0, 0, 0, 0.2) 100%
    ),
    linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size:
    100% 100%,
    40px 40px,
    40px 40px;
  box-shadow: inset 0 0 80px rgba(0, 0, 0, 0.3);
}

.hero-content {
  z-index: 10;
  text-align: center;
  margin-top: -40px;
  pointer-events: none;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.main-title {
  font-family: "Inter", sans-serif;
  /* Fluid Design: заголовок не улетает за рамки */
  font-size: clamp(4rem, 14vw, 15rem);
  font-weight: 900;
  line-height: 0.85;
  letter-spacing: -0.06em;
  margin: 0;
  background: linear-gradient(110deg, #ffffff 45%, #e0e6ff 50%, #ffffff 55%);
  background-size: 250% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shimmer 8s infinite linear;
  filter: drop-shadow(0 20px 50px rgba(0, 0, 0, 0.3));
}

.subtitle-block {
  margin-top: 30px;
  font-family: "Caveat", cursive;
  font-weight: 700;
  /* Fluid Design: подзаголовок плавно уменьшается */
  font-size: clamp(2.5rem, 4vw, 4rem);
  line-height: 1.1;
  color: #ffffff;
  transform: rotate(-3deg);
  text-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
}

.row-line {
  display: flex;
  justify-content: center;
  align-items: baseline;
  gap: 15px;
  width: 100%;
  margin-left: 20px;
}
.highlight-word-container {
  min-width: clamp(150px, 20vw, 250px);
  width: clamp(150px, 20vw, 250px);
  text-align: left;
  display: inline-block;
}
.highlight-word {
  color: var(--accent);
  text-shadow: 0 0 15px rgba(250, 45, 26, 0.4);
  display: inline-block;
  transition: all 0.4s ease;
}

/* --- 5. STICKERS FX --- */
.sticker-img {
  position: absolute;
  cursor: grab;
  z-index: 50;
  -webkit-user-drag: none;
  transition:
    filter 0.3s ease,
    transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.35));
  touch-action: none;
}
.sticker-img:hover {
  z-index: 2000 !important;
  filter: drop-shadow(0 50px 80px rgba(0, 0, 0, 0.6));
}
.sticker-img:active {
  cursor: grabbing;
}

.s-camera {
  top: -5%;
  left: -8%;
  /* Fluid Design: стикеры плавно дышат до брейкпоинтов */
  width: clamp(400px, 40vw, 600px);
  transform: rotate(-12deg);
}
.s-camera:hover { transform: rotate(-12deg) scale(1.05); }

.s-pencil {
  top: -12%;
  right: 5%;
  width: clamp(60px, 6vw, 80px);
  transform: rotate(50deg);
}
.s-pencil:hover { transform: rotate(50deg) scale(1.05); }

.s-ssd {
  bottom: 10%;
  right: 12%;
  width: clamp(90px, 8vw, 120px);
  transform: rotate(20deg);
}
.s-ssd:hover { transform: rotate(20deg) scale(1.05); }

/* --- ОРИГИНАЛЬНЫЕ МЕДИА-ЗАПРОСЫ (НЕ УДАЛЯЕМ) --- */
@media (max-width: 1300px) {
  .s-camera { width: 450px; left: -5%; top: 0%; }
  .s-camera:hover { transform: rotate(-12deg) scale(1.05); }
  .s-ssd { right: 5%; bottom: 5%; }
}
@media (max-width: 1200px) {
  .s-camera { width: 350px; left: -20px; top: 20px; transform: rotate(-12deg) scale(0.8); }
  .s-camera:hover { transform: rotate(-12deg) scale(0.85); }
  .s-pencil { width: 60px; right: 20px; transform: rotate(50deg) scale(0.8); }
  .s-pencil:hover { transform: rotate(50deg) scale(0.85); }
  .s-ssd { width: 90px; right: 20px; bottom: 20px; transform: rotate(20deg) scale(0.8); }
  .s-ssd:hover { transform: rotate(20deg) scale(0.85); }
}

/* --- ГЛОБАЛЬНЫЙ ЗАМОК ОТ СБОЕВ ЭКРАНА --- */
html,
body {
  overflow-x: hidden !important;
  width: 100% !important;
  max-width: 100% !important;
  position: relative;
}

@media (max-width: 768px) {
  .navbar {
    width: 100% !important;
    max-width: 100% !important;
    left: 0 !important;
    top: 0 !important;
    padding: 15px 20px !important;
    box-sizing: border-box !important;
    background: rgba(244, 242, 238, 0.85) !important;
  }
  .nav-buttons { gap: 0 !important; margin: 0 !important; padding: 0 !important; }
  .nav-text-btn { display: none !important; }
  .nav-accent-btn {
    display: inline-block !important;
    padding: 10px 20px !important;
    font-size: 0.9rem !important;
    margin: 0 !important;
    white-space: nowrap !important;
  }

  .hero-wrapper {
    height: auto !important;
    padding: 80px 15px 0px 15px !important;
    box-sizing: border-box !important;
    width: 100% !important;
    max-width: 100% !important;
  }
  .card-shadow-container {
    height: 872px !important;
    min-height: 872px !important;
    max-height: 872px !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }

  .hero-content {
    margin: 0 !important;
    position: relative;
    z-index: 100 !important;
    width: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    padding-bottom: 80px !important;
  }

  .main-title {
    /* Fluid Design внутри !important (чтобы на разных телефонах тоже было идеально) */
    font-size: clamp(3rem, 26vw, 6rem) !important;
    margin: 0 !important;
    line-height: 0.8 !important;
    text-align: center !important;
    max-width: 100% !important;
  }
  .subtitle-block {
    font-size: clamp(2rem, 8vw, 3rem) !important;
    margin-top: 15px !important;
    line-height: 1.1 !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  .row-line { gap: 12px !important; justify-content: center !important; display: flex !important; width: 100% !important; align-items: center !important; flex-wrap: nowrap !important; }
  .highlight-word-container { min-width: 0 !important; width: auto !important; text-align: left !important; }

  .s-camera {
    position: absolute !important;
    display: block !important;
    width: 220px !important;
    height: auto !important;
    top: 50px !important;
    left: -10px !important;
    bottom: auto !important;
    right: auto !important;
    transform: rotate(-10deg) !important;
    z-index: 50 !important;
  }
  .s-pencil {
    position: absolute !important;
    display: block !important;
    height: 240px !important;
    width: auto !important;
    top: auto !important;
    right: auto !important;
    bottom: 220px !important;
    left: -5px !important;
    transform: rotate(25deg) !important;
    z-index: 50 !important;
  }
  .s-ssd {
    position: absolute !important;
    display: block !important;
    width: 90px !important;
    height: auto !important;
    top: auto !important;
    left: auto !important;
    bottom: 140px !important;
    right: 15px !important;
    transform: rotate(-10deg) !important;
    z-index: 50 !important;
  }

  .folder-bridge {
    margin-top: -120px !important;
    margin-bottom: 60px !important;
    transform: none !important;
    position: relative;
    z-index: 105 !important;
    max-width: 100% !important;
  }
  .mac-folder-realistic { width: 238px !important; height: 147px !important; margin: 0 auto !important; }
  .folder-file-card { width: 110px !important; height: 135px !important; bottom: 10px !important; left: 28% !important; }

  .mac-folder-realistic.is-open .folder-cards { z-index: 20 !important; }
  .mac-folder-realistic.is-open .card-1 { opacity: 1 !important; transform: translate(-70px, -40px) rotate(-12deg) !important; transition-delay: 0.1s !important; }
  .mac-folder-realistic.is-open .card-2 { opacity: 1 !important; transform: translate(0, -80px) rotate(0deg) !important; transition-delay: 0.05s !important; }
  .mac-folder-realistic.is-open .card-3 { opacity: 1 !important; transform: translate(70px, -40px) rotate(12deg) !important; transition-delay: 0.15s !important; }
  .mac-folder-realistic.is-open .folder-front-shape { transform: rotateX(-25deg) scaleY(0.95) !important; }

  .vsl-section { padding: 40px 15px 60px 15px !important; overflow-x: hidden !important; }
  .vsl-headline {
    font-size: clamp(1.8rem, 6vw, 2.5rem) !important;
    line-height: 1.1 !important;
    margin-bottom: 15px !important;
    word-wrap: break-word !important;
    hyphens: auto !important;
  }
  .vsl-subhead { font-size: 1.1rem !important; margin-bottom: 40px !important; }
  .btn-outline { font-size: 1.2rem !important; padding: 15px 40px !important; }

  .reviews-headline {
    font-size: clamp(1.5rem, 6vw, 2rem) !important;
    padding: 0 15px 40px !important;
    line-height: 1.2 !important;
  }
  .modules-header h2 {
    font-size: clamp(1.8rem, 6vw, 2.2rem) !important;
    line-height: 1.1 !important;
  }
  .section-title-center {
    font-size: clamp(1.8rem, 6vw, 2.5rem) !important;
    line-height: 1.1 !important;
  }
}

@media (max-width: 400px) {
  .navbar { padding: 15px !important; }
  .nav-accent-btn { padding: 8px 16px !important; font-size: 0.85rem !important; }
  .main-title { font-size: clamp(2rem, 24vw, 3rem) !important; }
  .subtitle-block { font-size: clamp(1.8rem, 10vw, 2.5rem) !important; }
  .highlight-word { font-size: clamp(2rem, 10vw, 2.8rem) !important; }
  .highlight-word-container { width: auto !important; }
  .s-camera { width: 180px !important; left: -15px !important; top: 40px !important; }
  .s-pencil { height: 180px !important; bottom: 200px !important; left: -10px !important; }
  .s-ssd { width: 75px !important; bottom: 120px !important; right: 10px !important; }
  .vsl-headline { font-size: clamp(1.6rem, 8vw, 2.2rem) !important; }
  .review-item:hover .card-inner { transform: none !important; }
  .review-item.flipped .card-inner { transform: rotateY(180deg) !important; }
}

/* --- 6. FOLDER BRIDGE --- */
.folder-bridge {
  position: relative;
  z-index: 100;
  margin-top: -230px;
  margin-bottom: 80px;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  height: clamp(200px, 30vw, 320px); /* Fluid Design */
  perspective: 1200px;
  pointer-events: none;
}
.mac-folder-realistic {
  pointer-events: auto;
  position: relative;
  width: 260px;
  height: 180px;
  cursor: pointer;
  transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  transform-style: preserve-3d;
}
.mac-folder-realistic:hover { transform: translateY(-10px) scale(1.02); }

.folder-cards {
  position: absolute;
  width: 100%; height: 100%;
  top: 0; left: 0; z-index: 2; pointer-events: none;
}
.folder-file-card {
  position: absolute;
  width: 130px; height: 170px;
  left: 25%; bottom: 15px; border-radius: 8px;
  padding: 10px; box-sizing: border-box;
  opacity: 0; transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  transform-origin: bottom center;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  pointer-events: auto; cursor: pointer;
  will-change: transform, opacity;
}

.mac-folder-realistic::before {
  content: ""; position: absolute; bottom: 0; left: 0; width: 100%; height: 180%;
  z-index: 10; background: transparent; pointer-events: auto;
}
.mac-folder-realistic:hover .folder-cards { z-index: 20; }

.file-card-inner {
  width: 100%; height: 100%; border-radius: 6px; padding: 12px 10px;
  display: flex; flex-direction: column; box-sizing: border-box;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: inset 0 2px 10px rgba(255, 255, 255, 0.1);
}
.file-card-stripe { width: 80%; height: 6px; background: rgba(255, 255, 255, 0.4); border-radius: 3px; }
.file-card-grid {
  width: 100%; height: 40px; border-radius: 4px;
  background: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.1) 5px, transparent 5px, transparent 10px);
}
.file-card-label { color: white; font-weight: 800; font-size: 10px; margin-top: auto; text-transform: uppercase; letter-spacing: 0.5px; }

.mac-folder-realistic:hover .card-1 { opacity: 1; transform: translate(-70px, -40px) rotate(-12deg); transition-delay: 0.1s; }
.mac-folder-realistic:hover .card-2 { opacity: 1; transform: translate(0, -80px) rotate(0deg); transition-delay: 0.05s; }
.mac-folder-realistic:hover .card-3 { opacity: 1; transform: translate(70px, -40px) rotate(12deg); transition-delay: 0.15s; }

.folder-back-shape {
  position: absolute; width: 100%; height: 100%; background: var(--folder-back);
  border-radius: 0 16px 16px 16px; z-index: 1; box-shadow: 0 20px 50px rgba(0, 40, 100, 0.3);
}
.folder-back-shape::before { content: ""; position: absolute; bottom: 100%; left: 0; width: 90px; height: 16px; background: var(--folder-back); border-radius: 12px 12px 0 0; }
.folder-front-shape {
  position: absolute; bottom: 0; left: 0; width: 100%; height: 90%; background: var(--folder-front);
  border-radius: 0 0 16px 16px; z-index: 3; transform-origin: bottom;
  transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: inset 0 2px 5px rgba(255, 255, 255, 0.3), 0 -5px 15px rgba(0, 0, 0, 0.1); border-top: 1px solid rgba(255, 255, 255, 0.2);
}
.mac-folder-realistic:hover .folder-front-shape { transform: rotateX(-25deg) scaleY(0.95); }

/* --- 6. VSL SECTION (PLIYA + BLUE THEME) --- */
:root { --plyr-color-main: #fa2d1a; }
.vsl-section {
  padding: clamp(40px, 5vw, 60px) 20px clamp(60px, 8vw, 80px) 20px; /* Fluid Design */
  text-align: center; position: relative; z-index: 5;
}
.vsl-headline {
  font-size: clamp(2.5rem, 5vw, 4rem); /* Fluid Design */
  font-weight: 900; line-height: 1; letter-spacing: -0.04em; color: var(--blue-bright);
  margin-bottom: 24px; background: linear-gradient(135deg, #0045a6 0%, #002a66 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
}
.vsl-subhead {
  font-size: clamp(1.1rem, 2vw, 1.5rem); /* Fluid Design */
  font-weight: 500; color: #555; line-height: 1.4; margin-bottom: 60px;
  max-width: 700px; margin-left: auto; margin-right: auto;
}
.video-box {
  width: 100%; max-width: 960px; margin: 0 auto; background: transparent !important;
  border-radius: var(--radius); box-shadow: 0 50px 100px -20px rgba(0, 56, 141, 0.3);
  position: relative; overflow: hidden; line-height: 0;
}
.video-box .plyr {
  border-radius: 32px; overflow: hidden; width: 100%; height: 100%;
  box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.25); border: none !important;
}

.btn-outline {
  text-decoration: none; font-weight: 900;
  font-size: clamp(1.2rem, 2vw, 1.8rem); /* Fluid Design */
  color: var(--blue-bright); border: 3px solid var(--blue-bright);
  padding: clamp(15px, 2vw, 20px) clamp(40px, 5vw, 60px); /* Fluid Design */
  border-radius: 100px; display: inline-block; text-transform: uppercase;
  transition: 0.5s var(--ease-smooth); background: transparent;
}
.btn-outline:hover { background: var(--blue-bright); color: white; transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0, 69, 166, 0.2); }
.btn-buy { margin-top: 60px; }

/* --- 7. SLIDER --- */
:root {
  /* Fluid Design: переменные слайдера плавно масштабируются */
  --card-width: clamp(280px, 80vw, 400px);
  --card-height: clamp(450px, 60vh, 600px);
  --slider-gap: clamp(20px, 4vw, 50px);
  --transition-speed: 0.9s;
}

.story-section-new {
  position: relative; width: 100%; height: 900px; perspective: 2000px;
  display: flex; align-items: center; justify-content: center; overflow: hidden; background: var(--bg-cream);
}
.track-3d {
  display: flex; gap: var(--slider-gap); position: absolute; left: 50%; top: 50%;
  transform: translate(-200px, -50%); transform-style: preserve-3d;
  transition: transform var(--transition-speed) var(--ease-smooth); will-change: transform; cursor: grab; touch-action: pan-y;
}
.track-3d:active { cursor: grabbing; }

.card-3d {
  width: var(--card-width); height: var(--card-height); background: #fff; border-radius: 40px;
  flex-shrink: 0; position: relative; overflow: hidden; opacity: 0.5; transform: scale(0.85) rotateY(15deg);
  filter: blur(4px) grayscale(80%); transition: all var(--transition-speed) var(--ease-smooth);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; will-change: transform, opacity; pointer-events: none;
}
.card-3d.active {
  opacity: 1; transform: scale(1.05) rotateY(0deg); filter: blur(0) grayscale(0); z-index: 50;
  box-shadow: 0 40px 100px -20px rgba(0, 69, 166, 0.25); pointer-events: auto;
}

.card-img-container { width: 100%; height: 290px; overflow: hidden; position: relative; pointer-events: none; }
.card-img { width: 100%; height: 100%; object-fit: cover; }
.black-bar { background: var(--black); color: white; text-align: center; padding: 16px 0; }
.black-bar h2 { margin: 0; font-size: 1.8rem; font-weight: 900; }
.card-body { padding: 32px 30px; display: flex; flex-direction: column; flex-grow: 1; text-align: left; position: relative; z-index: 2; }
.card-body::before { content: '"'; position: absolute; top: 10px; left: 20px; font-size: 6rem; font-family: "Gramatika", sans-serif; color: rgba(0, 69, 166, 0.05); z-index: -1; pointer-events: none; line-height: 1; }
.story-quote { font-size: 1.15rem; line-height: 1.5; color: var(--black); font-weight: 500; margin-top: 10px; position: relative; z-index: 2; pointer-events: none; }
.story-quote strong { color: var(--blue-bright); font-weight: 800; background: rgba(0, 69, 166, 0.06); padding: 2px 6px; border-radius: 4px; }
.slider-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; pointer-events: none; }
.s-pill { background: var(--blue-bright); color: white; padding: 10px; border-radius: 12px; font-weight: 800; text-align: center; }
.s-script { font-family: "Caveat", cursive; color: var(--accent); font-size: 1.1rem; text-align: center; }
.s-logo { width: 40px; height: 40px; border: 1px solid rgba(0, 0, 0, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: auto auto 0; font-size: 0.7rem; font-weight: 700; opacity: 0.5; color: var(--black); }

.nav-container-3d {
  position: absolute; width: calc(var(--card-width) + 220px); display: flex; justify-content: space-between; z-index: 100; pointer-events: none;
}
.nav-btn-3d {
  pointer-events: auto; width: 70px; height: 70px; border-radius: 50%; border: none; background: #fff; cursor: pointer;
  display: flex; align-items: center; justify-content: center; color: var(--blue-bright); transition: 0.4s; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}
.nav-btn-3d:hover { background: var(--blue-bright); color: #fff; transform: scale(1.1); }

/* --- 8. REVIEWS SECTION --- */
.reviews-section {
  padding: 120px 0; border-top: 1px solid var(--border); background-color: var(--bg-cream);
  background-image: linear-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.04) 1px, transparent 1px), url("https://www.transparenttextures.com/patterns/stardust.png");
  background-size: 50px 50px, auto; position: relative; overflow: hidden; transition: background-color 0.8s var(--ease-smooth);
}
.reviews-section::after {
  content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: url("https://www.transparenttextures.com/patterns/felt.png"); opacity: 0.12; pointer-events: none; z-index: 1;
}
.reviews-section.reviews-active { background-color: #0047ff !important; }

.reviews-headline {
  /* Fluid Design */
  font-size: clamp(2rem, 3.5vw, 3.5rem);
  padding: 0 clamp(20px, 4vw, 50px) clamp(40px, 6vw, 80px);
  font-weight: 900; text-transform: uppercase; line-height: 1; letter-spacing: -0.04em;
  color: var(--blue-bright); max-width: 1200px; margin: 0 auto; text-align: center;
  position: relative; z-index: 5; transition: color 0.8s var(--ease-smooth);
}
.reviews-section.reviews-active .reviews-headline { color: #ffffff !important; }

.grid-reviews {
  display: grid; grid-template-columns: repeat(3, 260px); justify-content: center;
  gap: 80px 60px; max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; z-index: 5;
}
.review-item {
  width: 260px; height: 400px; perspective: 2000px; position: relative; transition: transform 0.6s var(--ease-smooth);
  will-change: transform; transform: translateY(var(--target-y, 0px)) rotate(var(--target-rot, 0deg));
}
.review-item:nth-child(1) { --target-rot: -4deg; }
.review-item:nth-child(2) { --target-rot: 3deg; --target-y: -15px; }
.review-item:nth-child(3) { --target-rot: -2.5deg; --target-y: 10px; }
.review-item:nth-child(4) { --target-rot: 4deg; }
.review-item:nth-child(5) { --target-rot: -3deg; --target-y: -5px; }
.review-item:nth-child(6) { --target-rot: 2deg; }
.review-item:hover { z-index: 100; }

.card-inner { position: absolute; width: 100%; height: 100%; transition: transform 1.2s var(--ease-smooth); transform-style: preserve-3d; will-change: transform; }
.review-item:hover .card-inner { transform: rotateY(180deg); }

.side { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; border-radius: 20px; overflow: hidden; box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3); box-sizing: border-box; }
.side-front { background: white; padding: 10px; display: flex; flex-direction: column; }
.rev-img { flex-grow: 1; overflow: hidden; border-radius: 12px 12px 4px 4px; }
.rev-img img { width: 100%; height: 100%; object-fit: cover; }
.rev-info { padding: 15px 5px; display: flex; justify-content: space-between; align-items: center; }
.rev-name-box h3 { font-weight: 900; font-size: 1.1rem; color: var(--blue-bright); margin: 0; text-transform: uppercase; }
.rev-name-box p { font-size: 0.65rem; font-weight: 800; opacity: 0.5; color: black; margin: 0; }
.rev-income { font-weight: 900; color: var(--accent); font-size: 1rem; }

.side-back { transform: rotateY(180deg); background-color: #000; display: flex; align-items: center; justify-content: center; position: relative; }
.side-back::before { content: ""; position: absolute; top: -20px; left: -20px; right: -20px; bottom: -20px; background-image: var(--rev-bg); background-size: cover; background-position: center; filter: blur(12px) brightness(0.4); transform: scaleX(-1); z-index: 1; }
.back-content { position: relative; z-index: 2; width: 100%; height: 100%; padding: 30px; box-sizing: border-box; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
.side-back h4 { font-family: "Caveat"; font-size: 2.2rem; color: white; margin: 0 0 10px; transform: rotate(-2deg); }
.side-back p { font-size: 0.9rem; line-height: 1.4; color: var(--bg-cream); margin: 0; font-weight: 500; }
.tg-user { margin-top: 20px; font-weight: 900; font-size: 0.7rem; color: var(--bg-cream); opacity: 0.6; text-transform: uppercase; }

.reviews-footer { padding: 80px 0; text-align: center; }
.reviews-footer .btn-outline { color: var(--blue-bright); border-color: var(--blue-bright); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); }
.reviews-section.reviews-active .reviews-footer .btn-outline { color: var(--bg-cream); border-color: var(--bg-cream); }
.reviews-footer .btn-outline:hover { background: var(--bg-cream); color: var(--blue-bright); box-shadow: 0 0 50px rgba(255, 255, 255, 0.4); transform: translateY(-5px) scale(1.05); }

@media (max-width: 1024px) {
  .grid-reviews { grid-template-columns: repeat(2, 260px); }
}
@media (max-width: 768px) {
  .grid-reviews { grid-template-columns: 280px; gap: 40px; }
  .review-item { --target-rot: 0deg !important; --target-y: 0px !important; width: 280px; }
}

#tariffs { margin-top: 40px; padding-bottom: 100px; font-weight: 900; font-size: 2rem; text-align: center; }

/* ============================================== */
/* MOTION DESIGN: REVEAL & STAGGER               */
/* ============================================== */
.reveal, .stagger-item {
  opacity: 0; transform: translateY(calc(var(--target-y, 0px) + 50px)) scale(calc(var(--target-scale, 1) - 0.03)) rotate(var(--target-rot, 0deg));
  filter: blur(8px); transition: opacity 1s var(--ease-smooth), transform 1s var(--ease-smooth), filter 1s var(--ease-smooth); will-change: transform, opacity, filter; pointer-events: none;
}
.reveal.reveal-active, .stagger-item.reveal-active {
  opacity: 1; transform: translateY(var(--target-y, 0px)) scale(var(--target-scale, 1)) rotate(var(--target-rot, 0deg)); filter: blur(0px); pointer-events: auto;
}
.blur-word { display: inline-block; filter: blur(12px); opacity: 0; transform: translateY(-15px); transition: all 1s var(--ease-smooth); }
.blur-word.visible { filter: blur(0px); opacity: 1; transform: translateY(0); }

/* ============================================== */
/* MODULES GRID                                  */
/* ============================================== */
.modules-section { background: var(--bg-cream); border-top: 1px solid var(--border); padding-bottom: 100px; }
.modules-header { padding: clamp(60px, 8vw, 100px) 20px clamp(40px, 5vw, 60px); max-width: 1200px; margin: 0 auto; text-align: center; }
.modules-header h2 { font-size: clamp(2.2rem, 3.5vw, 4rem); font-weight: 900; color: var(--blue-bright); margin: 0; letter-spacing: -0.04em; }

.modules-grid { display: grid; grid-template-columns: repeat(3, 1fr); max-width: 100%; margin: 0 auto; border-top: 1px solid var(--border); }
.module-card { border-right: 1px solid var(--border); border-bottom: 1px solid var(--border); background: var(--bg-cream); display: flex; flex-direction: column; }
.module-card:nth-child(3n + 1) { border-left: 1px solid var(--border); }

.m-cover { height: 320px; display: flex; align-items: center; justify-content: center; background-color: #050505; position: relative; overflow: hidden; }
.m-cover::before { content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: url("https://www.transparenttextures.com/patterns/stardust.png"); opacity: 0.4; pointer-events: none; mix-blend-mode: overlay; }
.m-cover-text { font-family: "Gramatika", "Inter", sans-serif; font-weight: 900; font-style: italic; font-size: 2.2rem; color: white; text-align: center; line-height: 1; text-transform: lowercase; z-index: 2; text-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); }
.m-info { padding: 40px 30px; flex-grow: 1; background: transparent; }
.m-duration { color: var(--accent); font-weight: 700; font-size: 0.95rem; display: flex; align-items: center; gap: 8px; margin-bottom: 20px; }
.m-duration svg { width: 18px; height: 18px; fill: none; stroke: currentColor; stroke-width: 2; }
.m-title { font-size: 1.5rem; font-weight: 800; color: var(--black); margin: 0 0 15px; letter-spacing: -0.02em; }
.m-desc { font-size: 0.95rem; line-height: 1.6; color: #555; margin: 0; font-weight: 500; }

.c1 { background: radial-gradient(circle at center, #0045a6 0%, #001a40 100%); }
.c2 { background: radial-gradient(circle at center, #fa2d1a 0%, #300000 100%); }
.c3 { background: radial-gradient(circle at center, #ff5e00 0%, #4a1a00 100%); }
.c4 { background: radial-gradient(circle at center, #2b5e96 0%, #050505 100%); }
.c5 { background: radial-gradient(circle at center, #fa2d1a 0%, #111 100%); }
.c6 { background: radial-gradient(circle at center, #007aff 0%, #001a40 100%); }

.bonus-grid { border-top: none; }
.bonus-card-wrap { grid-column: 2; background: var(--bg-cream); display: flex; flex-direction: column; border-left: 1px solid var(--border); border-right: 1px solid var(--border); border-bottom: 1px solid var(--border); }

@media (max-width: 1024px) {
  .modules-header h2 { font-size: 4vw; }
  .modules-grid { grid-template-columns: repeat(2, 1fr); }
  .module-card:nth-child(3n + 1) { border-left: none; }
  .module-card:nth-child(2n + 1) { border-left: 1px solid var(--border); }
  .bonus-card-wrap { grid-column: 1 / span 2; width: 50%; margin: 0 auto; border-left: 1px solid var(--border); border-right: 1px solid var(--border); }
}
@media (max-width: 768px) {
  .modules-header h2 { font-size: 2.5rem; }
  .modules-grid { grid-template-columns: 1fr; }
  .module-card:nth-child(2n + 1) { border-left: none; }
  .bonus-card-wrap { grid-column: 1; width: 100%; border-left: none; border-right: none; }
}

/* --- 9. NEW SECTION: TARIFFS --- */
.new-section {
  padding: clamp(60px, 8vw, 100px) 20px; /* Fluid Design */
  position: relative; max-width: 1200px; margin: 0 auto;
}
.section-title-center {
  text-align: center;
  font-size: clamp(2.5rem, 4vw, 3.5rem); /* Fluid Design */
  font-weight: 900; color: var(--blue-bright); margin-bottom: 20px; letter-spacing: -0.04em; line-height: 1;
}
.section-subtitle-small { text-align: center; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 2px; font-weight: 800; color: var(--accent); margin-bottom: 10px; opacity: 0.8; }

.tariffs-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 60px; align-items: stretch; }

.tariff-card {
  --target-scale: 1; --target-y: 0px; transform: scale(var(--target-scale)) translateY(var(--target-y));
  background: #ffffff; border-radius: var(--radius); padding: 35px 30px; display: flex; flex-direction: column;
  border: 1px solid var(--border); transition: transform 0.4s var(--ease-smooth), box-shadow 0.4s var(--ease-smooth); position: relative; overflow: hidden;
}
.tariff-card:hover { --target-y: -10px; box-shadow: 0 30px 60px rgba(0, 69, 166, 0.15); }
.tariff-card.popular { background: var(--blue-deep); color: white; border: 1px solid rgba(255, 255, 255, 0.1); --target-scale: 1.03; z-index: 2; box-shadow: 0 40px 80px rgba(0, 0, 0, 0.3); }
.tariff-card.popular:hover { --target-scale: 1.06; }
.tariff-card.mentor { background: var(--blue-bright); color: white; border: 1px solid rgba(255, 255, 255, 0.1); }

.t-header-box { background: rgba(0, 69, 166, 0.05); border-radius: 24px; padding: 20px 15px; text-align: center; margin-bottom: 25px; position: relative; }
.popular .t-header-box { background: rgba(255, 255, 255, 0.1); }
.mentor .t-header-box { background: rgba(255, 255, 255, 0.15); }

.t-header-title { font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; opacity: 0.6; font-weight: 700; }
.t-header-name { font-size: clamp(1.5rem, 3vw, 2rem); font-weight: 900; margin: 0; line-height: 1; color: var(--blue-bright); }
.popular .t-header-name, .mentor .t-header-name { color: #ffffff; }

.tariff-badge { position: absolute; top: -15px; right: -10px; background: var(--accent); color: white; font-family: "Caveat", cursive; font-size: 1.2rem; padding: 6px 16px; border-radius: 100px; transform: rotate(-3deg); box-shadow: 0 5px 15px rgba(250, 45, 26, 0.4); z-index: 10; white-space: nowrap; }

.t-section { margin-bottom: 20px; }
.t-section-title { font-size: 1.3rem; font-weight: 900; color: var(--blue-bright); margin: 0 0 15px 0; letter-spacing: -0.02em; }
.popular .t-section-title, .mentor .t-section-title { color: #ffffff; }

.t-list, .t-list-icons { list-style: none; padding: 0; margin: 0; }
.t-list li { padding: 6px 0; font-size: 0.95rem; font-weight: 600; color: var(--black); }
.popular .t-list li, .mentor .t-list li { color: rgba(255, 255, 255, 0.9); }
.t-list-icons li { display: flex; align-items: center; gap: 12px; padding: 8px 0; font-size: 0.95rem; font-weight: 600; color: var(--black); }
.popular .t-list-icons li, .mentor .t-list-icons li { color: rgba(255, 255, 255, 0.9); }

.icon-circle { width: 22px; height: 22px; border-radius: 50%; background: var(--blue-bright); display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.icon-circle svg { width: 11px; height: 11px; fill: #fff; }
.popular .icon-circle { background: #fff; }
.popular .icon-circle svg { fill: var(--blue-deep); }
.mentor .icon-circle { background: #fff; }
.mentor .icon-circle svg { fill: var(--blue-bright); }

.crossed { text-decoration: line-through; opacity: 0.4; }
.crossed .icon-circle { background: rgba(0, 69, 166, 0.15) !important; }
.popular .crossed .icon-circle, .mentor .crossed .icon-circle { background: rgba(255, 255, 255, 0.2) !important; }
.crossed .icon-circle svg { fill: #fff !important; }

.t-divider { border: none; border-top: 1px solid rgba(0, 69, 166, 0.15); margin: 25px 0; }
.popular .t-divider, .mentor .t-divider { border-top: 1px solid rgba(255, 255, 255, 0.15); }

.btn-tariff { margin-top: auto; box-sizing: border-box; width: 100%; padding: 18px; border-radius: 100px; border: none; background: var(--blue-bright); color: #fff; font-weight: 800; font-size: 1.1rem; cursor: pointer; transition: all 0.3s ease; text-align: center; text-decoration: none; display: flex; align-items: center; justify-content: center; gap: 10px; }
.btn-tariff:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0, 69, 166, 0.2); }
.popular .btn-tariff { background: #fff; color: var(--blue-deep); }
.popular .btn-tariff:hover { box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); }
.mentor .btn-tariff { background: #fff; color: var(--blue-bright); }
.mentor .btn-tariff:hover { box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); }
.btn-arrow { font-weight: 900; font-size: 1.3rem; margin-top: -2px; }

/* --- 10. NEW SECTION: ZIG-ZAG TARGET --- */
.zig-zag-wrapper {
  display: flex; flex-direction: column;
  gap: clamp(60px, 8vw, 120px); /* Fluid Design */
  margin-top: clamp(40px, 6vw, 80px);
}
.zig-zag-row {
  display: flex; align-items: center; justify-content: space-between;
  gap: clamp(40px, 6vw, 80px);
}
.zig-zag-row.reverse { flex-direction: row-reverse; }
.zig-zag-content { flex: 1; max-width: 480px; }

.zig-zag-visual { flex-shrink: 0; width: 420px; height: 420px; background-color: var(--white); border-radius: 40px; overflow: hidden; position: relative; box-shadow: 0 20px 60px rgba(0, 69, 166, 0.1); transition: transform 0.6s var(--ease-smooth); }
.zig-zag-visual:hover { transform: scale(1.02); box-shadow: 0 40px 80px rgba(0, 69, 166, 0.2); }
.zig-zag-visual img { width: 100%; height: 100%; object-fit: cover; }
.visual-placeholder { width: 100%; height: 100%; background: linear-gradient(135deg, #e0e6ff 0%, #ffffff 100%); display: flex; align-items: center; justify-content: center; }

.zz-title {
  font-family: "Gramatika", "Inter", sans-serif;
  font-size: clamp(2.2rem, 4vw, 3rem); /* Fluid Design */
  font-weight: 900; color: var(--blue-bright); line-height: 1; margin-bottom: 24px; letter-spacing: -0.04em;
}
.zz-desc { font-size: 1.15rem; line-height: 1.6; color: #555; font-weight: 500; }
.zz-desc strong { color: var(--accent); font-weight: 700; }

/* --- 11. NEW SECTION: FAQ (2-Col Grid) --- */
.faq-grid-2col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 1000px; margin: 60px auto 0; }
.faq-item-modern { background: var(--white); border: 1px solid var(--border); border-radius: 20px; overflow: hidden; transition: all 0.3s ease; }
.faq-item-modern:hover { border-color: var(--blue-bright); box-shadow: 0 10px 30px rgba(0, 69, 166, 0.08); }
.faq-item-modern.active { border-color: var(--blue-bright); background: #fafafc; }
.faq-question-modern { padding: 24px 30px; font-weight: 700; font-size: 1.1rem; color: var(--blue-deep); cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
.faq-icon-modern { width: 24px; height: 24px; fill: none; stroke: var(--accent); stroke-width: 2.5; transition: transform 0.3s var(--ease-smooth); }
.faq-item-modern.active .faq-icon-modern { transform: rotate(45deg); stroke: var(--blue-bright); }
.faq-answer-modern { max-height: 0; overflow: hidden; transition: all 0.3s ease; padding: 0 30px; }
.faq-answer-modern p { padding-bottom: 24px; margin: 0; font-size: 1rem; line-height: 1.6; color: #555; }

/* --- 12. FOOTER --- */
.site-footer { background: var(--blue-deep); color: rgba(255, 255, 255, 0.6); padding: 80px 20px 40px; margin-top: 100px; border-top-left-radius: var(--radius); border-top-right-radius: var(--radius); }
.footer-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; flex-wrap: wrap; gap: 40px; }
.footer-col h4 {
  color: white; font-weight: 900;
  font-size: clamp(1.1rem, 1.5vw, 1.2rem); /* Fluid Design */
  margin-top: 0; margin-bottom: 20px;
}
.footer-links a { display: block; color: rgba(255, 255, 255, 0.6); text-decoration: none; margin-bottom: 10px; font-size: 0.95rem; transition: color 0.3s; }
.footer-links a:hover { color: var(--accent); }
.footer-legal { text-align: center; font-size: 0.85rem; margin-top: 60px; padding-top: 30px; border-top: 1px solid rgba(255, 255, 255, 0.1); }

@media (max-width: 1024px) {
  .tariffs-grid { grid-template-columns: 1fr; max-width: 500px; margin-left: auto; margin-right: auto; }
  .tariff-card.popular { --target-scale: 1; }
  .section-title-center { font-size: 2.5rem; }
  .zig-zag-wrapper { gap: 80px; }
  .zig-zag-row { flex-direction: column !important; gap: 30px; text-align: left; }
  .zig-zag-content { max-width: 100%; }
  .zig-zag-visual { width: 100%; height: auto; aspect-ratio: 1/1; }
  .zz-title { font-size: 2.5rem; }
  .faq-grid-2col { grid-template-columns: 1fr; max-width: 600px; }
}

@media (max-width: 768px) {
  .footer-content { flex-direction: column; }
  .faq-question-modern { padding: 20px; }
}
